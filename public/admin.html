<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin ‚Äî Criat√≥rio I.T.A</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{
      --bg:#0f1720; --card: rgba(255,255,255,0.05);
      --accent:#facc15; --muted:#9ca3af;
    }
    body { background: var(--bg); color: #f5f5f5; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    .card { background: var(--card); border-radius: 12px; border:1px solid rgba(255,255,255,0.06); }
    .editor-area { min-height: 62vh; background: #0b1320; border-radius: 10px; padding: 18px; overflow:auto; }
    .editor-area[contenteditable="true"]:focus { outline: 2px dashed var(--accent); }

    .drop-zone { border: 2px dashed #263042; padding: 18px; text-align: center; color: var(--muted); border-radius: 8px; transition: all 0.18s ease; }
    .drop-zone.dragover { background: rgba(250,204,21,0.06); border-color: var(--accent); color: var(--accent); }

    /* Imagens resiz√°veis */
    .resizable { position: relative; display: inline-block; margin: 6px; }
    .resizable img { display:block; max-width:100%; border-radius:6px; }
    .resizer { width: 12px; height: 12px; border: 2px solid #111; background: var(--accent); position: absolute; border-radius: 3px; }
    .resizer.br { right: -6px; bottom: -6px; cursor: se-resize; }
    .resizer.bl { left: -6px; bottom: -6px; cursor: sw-resize; }
    .resizer.tr { right: -6px; top: -6px; cursor: ne-resize; }
    .resizer.tl { left: -6px; top: -6px; cursor: nw-resize; }

    /* Selected image outline */
    .img-selected { box-shadow: 0 0 0 3px rgba(250,204,21,0.22); border-radius: 6px; }

    /* Floating toolbar */
    .img-toolbar {
      position: absolute;
      z-index: 9999;
      background: rgba(10,14,20,0.95);
      border:1px solid rgba(255,255,255,0.06);
      padding: 8px;
      border-radius: 8px;
      display:flex;
      gap:8px;
      align-items:center;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
      transform-origin: left top;
    }
    .img-toolbar button { background:transparent; padding:6px 8px; border-radius:6px; color:#fff; border:1px solid rgba(255,255,255,0.03); cursor:pointer; }
    .img-toolbar button:hover { background: rgba(250,204,21,0.08); color: #111; border-color: rgba(250,204,21,0.12); }
    .img-toolbar input[type="range"]{ width:110px; }

    /* small helpers */
    .muted { color:var(--muted); font-size:0.95rem; }
    .btn { padding:8px 12px; border-radius:8px; background:var(--accent); color:#111; font-weight:600; }
    .btn-ghost { background:transparent; border:1px solid rgba(255,255,255,0.04); color:#fff; }
  </style>
</head>
<body>
  <div class="max-w-7xl mx-auto p-6">
    <header class="flex justify-between items-center mb-6">
      <h1 class="text-2xl font-bold">Painel de Edi√ß√£o ‚Äî Criat√≥rio I.T.A</h1>
      <a href="/" class="px-4 py-2 bg-yellow-400 text-black rounded font-medium">Voltar ao site</a>
    </header>

    <!-- Login -->
    <div id="loginBox" class="card p-6 max-w-md mx-auto">
      <h2 class="text-xl font-semibold mb-4">Login do Administrador</h2>
      <label class="block text-sm mb-1">Usu√°rio</label>
      <input id="adminUser" class="w-full px-3 py-2 rounded text-black mb-3" value="admin"/>
      <label class="block text-sm mb-1">Senha</label>
      <input id="adminPass" type="password" class="w-full px-3 py-2 rounded text-black mb-4" value="admin"/>
      <button id="loginBtn" class="w-full bg-blue-600 px-3 py-2 rounded">Entrar</button>
      <div id="loginMsg" class="text-sm text-red-400 mt-3"></div>
    </div>

    <!-- Painel -->
    <div id="adminPanel" class="hidden grid grid-cols-1 md:grid-cols-4 gap-6">
      <!-- Sidebar -->
      <aside class="card p-4">
        <h2 class="font-semibold mb-3">Gerenciar P√°ginas</h2>
        <select id="pageSelect" class="w-full px-2 py-2 rounded text-black mb-4">
          <option value="home">In√≠cio</option>
          <option value="doencas">Doen√ßas</option>
          <option value="medicamentos">Medicamentos</option>
          <option value="racoes">Ra√ß√µes</option>
          <option value="incubacao">Incuba√ß√£o</option>
          <option value="manejo">Manejo</option>
          <option value="aves">Galeria</option>
        </select>
        <button id="loadPageBtn" class="w-full bg-yellow-500 text-black px-3 py-2 rounded mb-4">Carregar P√°gina</button>

        <h2 class="font-semibold mb-3">A√ß√µes</h2>
        <button id="saveBtn" class="w-full bg-green-600 px-3 py-2 rounded mb-2">üíæ Salvar</button>
        <button id="revertBtn" class="w-full bg-gray-700 px-3 py-2 rounded mb-2">‚Ü©Ô∏è Reverter</button>
        <button id="exportBtn" class="w-full bg-gray-700 px-3 py-2 rounded mb-2">‚¨áÔ∏è Exportar</button>
        <button id="importBtn" class="w-full bg-gray-700 px-3 py-2 rounded mb-4">‚¨ÜÔ∏è Importar</button>
        <input id="importFile" type="file" accept="application/json" class="hidden"/>

        <div class="mt-4">
          <button id="logoutBtn" class="w-full bg-red-600 px-3 py-2 rounded">üö™ Sair</button>
        </div>
        <p class="muted mt-4">Selecione uma p√°gina, clique em "Carregar P√°gina" e depois edite o conte√∫do diretamente no editor. Clique em uma imagem para abrir a barra de edi√ß√£o da imagem.</p>
      </aside>

      <!-- Editor -->
      <section class="md:col-span-3 card p-4 relative">
        <div class="flex justify-between items-center mb-3">
          <h2 class="text-lg font-semibold">Editando: <span id="editingPage" class="text-yellow-400">Nenhuma</span></h2>
        </div>

        <div id="editor" class="editor-area" contenteditable="true" spellcheck="false">
          Selecione uma p√°gina para editar.
        </div>

        <!-- Drop zone para imagens -->
        <div id="dropZone" class="drop-zone mt-4">
          Arraste imagens aqui para inserir (ou clique para selecionar)
        </div>
      </section>
    </div>
  </div>

  <!-- Toolbar flutuante para imagens -->
  <div id="imgToolbar" class="img-toolbar" style="display:none;">
    <input id="replaceInput" type="file" accept="image/*" style="display:none" />
    <button id="btnReplace" title="Substituir imagem">üîÅ Substituir</button>
    <button id="btnRemove" title="Remover imagem">‚ùå Remover</button>
    <button id="btnMoveUp" title="Mover para cima">‚¨ÜÔ∏è</button>
    <button id="btnMoveDown" title="Mover para baixo">‚¨áÔ∏è</button>
    <div style="display:flex;flex-direction:column;align-items:center">
      <label class="muted" style="font-size:11px">Largura</label>
      <input id="widthRange" type="range" min="10" max="100" value="50"/>
    </div>
    <div style="display:flex;gap:6px;">
      <button id="alignLeft" title="Alinhar √† esquerda">‚Ü∞</button>
      <button id="alignCenter" title="Centrar">‚¨õ</button>
      <button id="alignRight" title="Alinhar √† direita">‚Ü±</button>
    </div>
    <button id="btnLock" title="Bloquear/desbloquear posi√ß√£o">üîí</button>
  </div>

  <script src="/js/admin.js"></script>
</body>
</html>
